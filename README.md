# Proxmox LLM Controller

–¶–µ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –º—ñ—Å—Ç–∏—Ç—å –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –ª–æ–∫–∞–ª—å–Ω–æ—ó LLM‚Äë—Å–∏—Å—Ç–µ–º–∏ –∑ Proxmox VE. –í—ñ–Ω —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑:

* **docker‚Äëcompose.yml** ‚Äì –ø—ñ–¥–Ω—ñ–º–∞—î Ollama, OpenWebUI —Ç–∞ Python‚Äë—Å–µ—Ä–≤—ñ—Å –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è Proxmox. –¶—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å –º—ñ–∂ —Å–æ–±–æ—é —á–µ—Ä–µ–∑ –≤–Ω—É—Ç—Ä—ñ—à–Ω—é –º–µ—Ä–µ–∂—É.
* **controller/** ‚Äì –≤–∏—Ö—ñ–¥–Ω–∏–π –∫–æ–¥ Python‚Äë—Å–µ—Ä–≤—ñ—Å—É. –¶–µ FastAPI –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫, —â–æ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –¥–æ API Proxmox –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ `proxmoxer` —Ç–∞ –Ω–∞–¥–∞—î –ø—Ä–æ—Å—Ç—ñ REST‚Äë–µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ –¥–ª—è —Å–ø–∏—Å–∫—É –≤—É–∑–ª—ñ–≤, —Å–ø–∏—Å–∫—É LXC‚Äë–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö LXC —ñ –∑–∞–ø—É—Å–∫—É/–∑—É–ø–∏–Ω–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤.

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

1. –°–∫–æ–ø—ñ—é–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π –Ω–∞ —Å–≤—ñ–π —Ö–æ—Å—Ç Proxmox –∞–±–æ –±—É–¥—å‚Äë—è–∫–∏–π —ñ–Ω—à–∏–π —Å–µ—Ä–≤–µ—Ä —ñ–∑ –¥–æ—Å—Ç—É–ø–æ–º –¥–æ Proxmox API.
2. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω—ñ –∫–∞—Ç–∞–ª–æ–≥—É —Ç–∞ –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —Ç–∞–∫—ñ –∑–º—ñ–Ω–Ω—ñ:

   ```env
   PROXMOX_HOST=your-proxmox-host:8006
   PROXMOX_USER=root@pam!WebUI
   # PROXMOX_TOKEN_NAME=WebUI  # –Ω–µ –æ–±–æ–≤'—è–∑–∫–æ–≤–æ, –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑ PROXMOX_USER
   PROXMOX_TOKEN_VALUE=superSecret
   PROXMOX_VERIFY_SSL=False

   # (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ) BlissOS —á–µ—Ä–µ–∑ ADB
   # BLISS_ADB_ADDRESS=192.168.1.218:5555
   # –∞–±–æ –æ–∫—Ä–µ–º–æ:
   # BLISS_ADB_HOST=192.168.1.218
   # BLISS_ADB_PORT=5555
   # BLISS_ADB_SERIAL=RQCT30W45KM
   # BLISS_OPENAPI_PATH=/app/openapi_bliss.json
   # ADB_BINARY=/usr/bin/adb  # adb –≤–∂–µ –≤—Ö–æ–¥–∏—Ç—å –¥–æ –æ–±—Ä–∞–∑—É, –∑–º—ñ–Ω—é–π—Ç–µ –ª–∏—à–µ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏
   ```

   > –©–æ–± –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ API‚Äë—Ç–æ–∫–µ–Ω —É Proxmox, –≤—ñ–¥–∫—Ä–∏–π—Ç–µ *Datacenter* ‚Üí *Permissions* ‚Üí *API Tokens*.
   > –Ø–∫—â–æ –≤ `PROXMOX_USER` –≤–∫–∞–∑–∞–Ω–æ `root@pam!WebUI`, —á–∞—Å—Ç–∏–Ω–∞ –ø—ñ—Å–ª—è `!` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
   > –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —è–∫ `PROXMOX_TOKEN_NAME`.

3. –î–æ–¥–∞–π—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω–∏–π SSH‚Äë–∫–ª—é—á, —è–∫–∏–π –º–∞—î –¥–æ—Å—Ç—É–ø –¥–æ –≤–∞—à–æ–≥–æ –≤—É–∑–ª–∞ Proxmox:

   * –ø–æ–∫–ª–∞–¥—ñ—Ç—å —Ñ–∞–π–ª –∫–ª—é—á–∞ —É –∫–∞—Ç–∞–ª–æ–≥ `keys/pve_id_rsa` (–≤—ñ–Ω –º–æ–Ω—Ç—É—î—Ç—å—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —è–∫ `/keys/pve_id_rsa`);
   * –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø—ñ–¥ —á–∞—Å –∑–±—ñ—Ä–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î —Å–∏–º–ª—ñ–Ω–∫ `~/.ssh/id_rsa` ‚Üí `/keys/pve_id_rsa`, —Ç–æ–º—É –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ—Å—Ç–∞—Ç–Ω—å–æ `ssh root@IP` (–∑–∞ –±–∞–∂–∞–Ω–Ω—è –º–æ–∂–Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ `~/.ssh/config`);
   * `proxmox-controller` —á–∏—Ç–∞—î —Ü–µ–π —Ñ–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ –∑–º—ñ–Ω–Ω—É —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ `PVE_SSH_KEY_PATH`.

4. (–ù–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ) –î–æ–¥–∞–π—Ç–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ SSH –¥–ª—è REST-–µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤:

   * `DEFAULT_SSH_HOST` ‚Äî –∞–¥—Ä–µ—Å–∞ SSH-—Ö–æ—Å—Ç–∞. –Ø–∫—â–æ –Ω–µ –∑–∞–¥–∞–Ω–æ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `PVE_SSH_HOST`.
   * `DEFAULT_SSH_USER` ‚Äî –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á (–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º `root`). –¢–∞–∫–æ–∂ —É—Å–ø–∞–¥–∫–æ–≤—É—î `PVE_SSH_USER`.
   * `DEFAULT_SSH_PORT` ‚Äî –ø–æ—Ä—Ç SSH (—Ç–∏–ø–æ–≤–æ `22`).
   * `DEFAULT_SSH_KEY_PATH` –∞–±–æ `DEFAULT_SSH_KEY_B64` ‚Äî —à–ª—è—Ö –¥–æ –∫–ª—é—á–∞ –∞–±–æ –ø—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–ª—é—á —É base64-—Ä—è–¥–∫—É.
   * `DEFAULT_SSH_PASSWORD` ‚Äî –ø–∞—Ä–æ–ª—å, —è–∫—â–æ –∫–ª—é—á –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è.
   * `DEFAULT_SSH_STRICT_HOST_KEY` ‚Äî `true/false`, —â–æ–± —É–≤—ñ–º–∫–Ω—É—Ç–∏ —Å—É–≤–æ—Ä—É –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –≤—ñ–¥–±–∏—Ç–∫—É —Ö–æ—Å—Ç–∞.

   –ü—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ü–∏—Ö –∑–º—ñ–Ω–Ω–∏—Ö –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏ `/ssh/run`, `/apps/launch` —Ç–∞ `/browser/open` –º–æ–∂—É—Ç—å –≤–∏–∫–ª–∏–∫–∞—Ç–∏—Å—è –±–µ–∑ —è–≤–Ω–æ–≥–æ –∑–∞–∑–Ω–∞—á–µ–Ω–Ω—è `host`, `user`, `port` —á–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó ‚Äî –∑–Ω–∞—á–µ–Ω–Ω—è –ø—ñ–¥—Å—Ç–∞–≤–ª—è—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ. –£ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó docker-compose –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–æ–¥–∞—Ç–∏ –∑–º—ñ–Ω–Ω—ñ –¥–æ `.env` –ø–æ—Ä—è–¥ —ñ–∑ —É–∂–µ –Ω–∞—è–≤–Ω–∏–º–∏ `PVE_SSH_*`.

5. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å—Ç–µ–∫ –∫–æ–º–∞–Ω–¥–æ—é:

   ```sh
   docker-compose up -d
   ```

   –ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É:
   * Ollama API –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ –ø–æ—Ä—Ç—ñ `11434`.
   * OpenWebUI –¥–æ—Å—Ç—É–ø–Ω–∞ –Ω–∞ –ø–æ—Ä—Ç—ñ `3000`.
   * –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä Proxmox –¥–æ—Å—Ç—É–ø–Ω–∏–π –Ω–∞ –ø–æ—Ä—Ç—ñ `8000` (–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è FastAPI).

  > **–ü–æ—Ä–∞–¥–∞.** –Ø–∫—â–æ –æ—Ç—Ä–∏–º—É—î—Ç–µ –ø–æ–º–∏–ª–∫—É –Ω–∞ –∫—à—Ç–∞–ª—Ç ¬´Connection failed¬ª –ø—ñ–¥ —á–∞—Å –¥–æ–¥–∞–≤–∞–Ω–Ω—è OpenAPI‚Äë—Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –≤ OpenWebUI,
  > –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ—Ä—Ç (`http://<host>:8000/openapi.json` –∞–±–æ `http://<host>:8000/openapi_bliss.json`).
  > –ó–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º —É `docker-compose.yml` –ø—Ä–æ–±—Ä–æ—à–µ–Ω–æ —Å–∞–º–µ –ø–æ—Ä—Ç `8000`; —è–∫—â–æ –≤–∏ –≤—Ä—É—á–Ω—É –∑–º—ñ–Ω–∏–ª–∏ –π–æ–≥–æ –Ω–∞ —ñ–Ω—à–∏–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `18000`),
  > –Ω–µ –∑–∞–±—É–¥—å—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è —ñ –ø–µ—Ä–µ—Å–≤—ñ–¥—á–∏—Ç–∏—Å—å, —â–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `proxmox-controller` –∑–∞–ø—É—â–µ–Ω–∏–π (`docker ps`).

### –£—Å—É–Ω–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º –∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º OpenWebUI ‚Üí –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞

–ù–∞–π—á–∞—Å—Ç—ñ—à–∞ –ø—Ä–∏—á–∏–Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è ¬´Connection failed¬ª ‚Äì OpenWebUI –Ω–µ –º–æ–∂–µ –¥—ñ—Å—Ç–∞—Ç–∏—Å—å –¥–æ FastAPI‚Äë—Å–µ—Ä–≤—ñ—Å—É. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ:

1. **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∞–¥—Ä–µ—Å—É –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ docker-–º–µ—Ä–µ–∂—ñ.**
   * –Ø–∫—â–æ OpenWebUI –ø—Ä–∞—Ü—é—î –≤ —Ç–æ–º—É –∂ docker-compose, –≤–∫–∞–∂—ñ—Ç—å `http://proxmox-controller:8000/openapi.json` (–∞–±–æ `/openapi_bliss.json`).
   * –Ø–∫—â–æ –ø—ñ–¥–∫–ª—é—á–∞—î—Ç–µ—Å—å —ñ–∑–∑–æ–≤–Ω—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ —Ö–æ—Å—Ç—ñ), –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ IP/–¥–æ–º–µ–Ω —Ö–æ—Å—Ç–∞, –Ω–∞ —è–∫–æ–º—É –∑–∞–ø—É—â–µ–Ω–æ `docker-compose`.
2. **–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –µ–Ω–¥–ø–æ—ñ–Ω—Ç –¥–æ—Å—Ç—É–ø–Ω–∏–π.**
   ```sh
   docker compose exec open-webui curl -f http://proxmox-controller:8000/openapi.json
   docker compose exec open-webui curl -f http://proxmox-controller:8000/openapi_bliss.json
   ```
   –û–±–∏–¥–≤—ñ –∫–æ–º–∞–Ω–¥–∏ –º–∞—é—Ç—å –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ JSON. –Ø–∫—â–æ –æ—Ç—Ä–∏–º—É—î—Ç–µ –ø–æ–º–∏–ª–∫—É, –ø–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –∂—É—Ä–Ω–∞–ª–∏ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞: `docker compose logs proxmox-controller`.
3. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è BlissOS.**
   ```sh
   docker compose exec proxmox-controller curl -f http://localhost:8000/openapi_bliss/status | jq
   ```
   –ü–æ–ª–µ `configured` –º–∞—î –±—É—Ç–∏ `true`, –∞ `loadable` ‚Äì `true`. –Ø–∫—â–æ `configured=false`, –¥–æ–¥–∞–π—Ç–µ –¥–æ `.env` —Ä—è–¥–æ–∫ `BLISS_OPENAPI_PATH=/app/openapi_bliss.json` —ñ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å—Ç–µ–∫.
   –Ø–∫—â–æ `loadable=false` –∞–±–æ –≤ –ª–æ–≥–∞—Ö –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞ –∑'—è–≤–ª—è—î—Ç—å—Å—è –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –Ω–µ–º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –ø—Ä–æ—á–∏—Ç–∞—Ç–∏ —Ñ–∞–π–ª, –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ
   —Ñ–∞–π–ª `openapi_bliss.json` –¥—ñ–π—Å–Ω–æ –∑–º–æ–Ω—Ç–æ–≤–∞–Ω–∏–π —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —ñ –º–∞—î –ø—Ä–∞–≤–∞ —á–∏—Ç–∞–Ω–Ω—è (`chmod 644 openapi_bliss.json`).
   –ë–∞–∑–æ–≤–∏–π –æ–±—Ä–∞–∑ –≤–∂–µ –º—ñ—Å—Ç–∏—Ç—å –∫–æ–ø—ñ—é `openapi_bliss.json` —É –∫–∞—Ç–∞–ª–æ–∑—ñ `/app`, —Ç–æ–∂ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –Ω–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —ó—ó –∞–±–æ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∏—Ç–∏
   —à–ª—è—Ö —á–µ—Ä–µ–∑ `BLISS_OPENAPI_PATH`.
4. **–û–Ω–æ–≤—ñ—Ç—å –¥–æ–≤—ñ—Ä–µ–Ω—ñ –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è (–∑–∞ –ø–æ—Ç—Ä–µ–±–∏).** –Ø–∫—â–æ OpenWebUI –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –Ω–µ –∑ —Ç–æ–≥–æ –∂ —Ö–æ—Å—Ç–∞ –∞–±–æ –¥–æ–º–µ–Ω—É, –¥–æ–¥–∞–π—Ç–µ –π–æ–≥–æ –≤ –∑–º—ñ–Ω–Ω—É `CORS_ALLOW_ORIGINS` (`http://192.168.1.191:3000,http://localhost:3000`).

–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ–≥–æ –∑–∞–ø–∏—Ç—É `curl ‚Ä¶/openapi.json` —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å OpenWebUI —Ç–∞–∫–æ–∂ –º–∞—î –∑–º–æ–≥—É —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—é –±–µ–∑ –ø–æ–º–∏–ª–æ–∫.

#### BlissOS API: —â–æ —â–µ –º–æ–∂–µ —Å–ø—Ä–∏—á–∏–Ω–∏—Ç–∏ ¬´Connection failed¬ª

–Ø–∫—â–æ –≤–∏ –¥–æ–¥–∞—î—Ç–µ —Å–∞–º–µ BlissOS —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —ñ –æ—Ç—Ä–∏–º—É—î—Ç–µ –ø–æ–º–∏–ª–∫—É –∑ –ø—ñ–¥–ø–∏—Å–æ–º ¬´Connection failed¬ª, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:

1. **–ü–æ–≤–Ω–∏–π —à–ª—è—Ö –¥–æ OpenAPI.** –ü–æ—Ç—Ä—ñ–±–Ω–æ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –ø–æ–≤–Ω–∏–π URL –¥–æ JSON‚Äë—Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `http://192.168.1.191:8000/openapi_bliss.json`). –Ø–∫—â–æ –∑–∞–∑–Ω–∞—á–∏—Ç–∏ –ª–∏—à–µ –±–∞–∑–æ–≤—É –∞–¥—Ä–µ—Å—É `http://192.168.1.191:8000`, WebUI –Ω–µ –∑–º–æ–∂–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –æ–ø–∏—Å.
2. **CORS‚Äë–∑–∞–≥–æ–ª–æ–≤–∫–∏.** –ö–æ–ª–∏ WebUI –≤—ñ–¥–∫—Ä–∏–≤–∞—î—Ç—å—Å—è –∑ —ñ–Ω—à–æ–≥–æ –¥–æ–º–µ–Ω—É/–ø–æ—Ä—Ç—É, –±—Ä–∞—É–∑–µ—Ä –º–æ–∂–µ –±–ª–æ–∫—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç. –î–æ–∑–≤–æ–ª—å—Ç–µ –ø–æ—Ö–æ–¥–∂–µ–Ω–Ω—è WebUI —á–µ—Ä–µ–∑ `Access-Control-Allow-Origin` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `*` –∞–±–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –¥–æ–º–µ–Ω).
3. **HTTPS –ø—Ä–æ—Ç–∏ HTTP.** –Ø–∫—â–æ WebUI –ø—Ä–∞—Ü—é—î –ø–æ HTTPS, –∞ BlissOS API ‚Äì –ø–æ HTTP, –±—Ä–∞—É–∑–µ—Ä –∑–∞–±–ª–æ–∫—É—î –∑–º—ñ—à–∞–Ω–∏–π –≤–º—ñ—Å—Ç. –ó–∞–ø—É—Å–∫–∞–π—Ç–µ BlissOS API –ø–æ HTTPS, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ `localhost`, –∞–±–æ –≤—ñ–¥–∫—Ä–∏–≤–∞–π—Ç–µ WebUI –ø–æ HTTP.
4. **–î–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å —Å–µ—Ä–≤—ñ—Å—É.** –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ —Å–∞–º BlissOS —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞ –≤–∫–∞–∑–∞–Ω—ñ–π –∞–¥—Ä–µ—Å—ñ/–ø–æ—Ä—Ç—ñ —Ç–∞ –≤—ñ–¥–¥–∞—î JSON. –°–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ñ–∞–π–ª —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä –∞–±–æ `curl`.
5. **–í–∞–ª—ñ–¥–Ω—ñ—Å—Ç—å —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó.** –£–ø–µ–≤–Ω—ñ—Ç—å—Å—è, —â–æ —Ñ–∞–π–ª OpenAPI –∫–æ—Ä–µ–∫—Ç–Ω–∏–π. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –π–æ–≥–æ —É Swagger Editor –∞–±–æ —ñ–Ω—à–æ–º—É –≤–∞–ª—ñ–¥–∞—Ç–æ—Ä—ñ —ñ –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —É –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–∏—Ö –ø–æ–ª—ñ–≤.

### –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Ö OpenAPI-—ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –≤ OpenWebUI

OpenWebUI –¥–æ–∑–≤–æ–ª—è—î –æ–¥–Ω–æ—á–∞—Å–Ω–æ —Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤, –∫–æ–∂–µ–Ω –∑ —è–∫–∏—Ö –ø—Ä–∞—Ü—é—î –Ω–∞ –≤–ª–∞—Å–Ω–æ–º—É OpenAPI-—Å–µ—Ä–≤–µ—Ä—ñ. –©–æ–± –¥–æ–¥–∞—Ç–∏ —ó—Ö:

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ **Settings ‚Üí Tools** —É WebUI —Ç–∞ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å **Add Tool** –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É.
2. –í–∫–∞–∂—ñ—Ç—å **–ø–æ–≤–Ω–∏–π URL** –¥–æ OpenAPI-—Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó, –≤–∫–ª—é—á–Ω–æ –∑ —Ñ–∞–π–ª–æ–º JSON, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ `http://192.168.1.191:8000/openapi_bliss.json`. –ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ –≤–∫–∞–∑–∞—Ç–∏ –ª–∏—à–µ –±–∞–∑–æ–≤—É –∞–¥—Ä–µ—Å—É —Å–µ—Ä–≤–µ—Ä–∞.
3. –ü–æ–≤—Ç–æ—Ä—ñ—Ç—å —Ü—ñ –∫—Ä–æ–∫–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É (`time`, `memory`, `proxmox-controller` —Ç–æ—â–æ). –ö–æ–∂–µ–Ω —Å–µ—Ä–≤—ñ—Å –º–∞—î —Å–ª—É—Ö–∞—Ç–∏ –≤–ª–∞—Å–Ω–∏–π –ø–æ—Ä—Ç/–∞–¥—Ä–µ—Å—É —ñ –ø—Ä–∞—Ü—é—î –Ω–µ–∑–∞–ª–µ–∂–Ω–æ.
4. –ó–∞ –ø–æ—Ç—Ä–µ–±–∏ –∫–æ–º–±—ñ–Ω—É–π—Ç–µ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –≤ —á–∞—Ç—ñ OpenWebUI ‚Äî —Å–∏—Å—Ç–µ–º–∞ –ø—ñ–¥—Ç—è–≥—É—î –ª–∏—à–µ —Ç–æ–π OpenAPI, —è–∫–∏–π –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –∑–∞–ø–∏—Ç.

> üìò **–°–∫—ñ–ª—å–∫–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –º–æ–∂–Ω–∞ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏?** –£ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó OpenWebUI –Ω–∞–≥–æ–ª–æ—à–µ–Ω–æ, —â–æ –≤—Å—ñ —Å–µ—Ä–≤–µ—Ä–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –ø—Ä–∞—Ü—é—é—Ç—å –Ω–µ–∑–∞–ª–µ–∂–Ω–æ —ñ –Ω–µ–º–∞—î —Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ–≥–æ –æ–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ —ó—Ö–Ω—é –∫—ñ–ª—å–∫—ñ—Å—Ç—å. –ì–æ–ª–æ–≤–Ω–µ ‚Äî —â–æ–± –∫–æ–∂–µ–Ω —Å–µ—Ä–≤—ñ—Å –±—É–≤ –¥–æ—Å—Ç—É–ø–Ω–∏–π –∑–∞ –≤–ª–∞—Å–Ω–æ—é –∞–¥—Ä–µ—Å–æ—é/–ø–æ—Ä—Ç–æ–º —ñ –º–∞–≤ –≤–∞–ª—ñ–¥–Ω–∏–π OpenAPI-—Ñ–∞–π–ª (`openapi`, `info`, `paths`, —É–Ω—ñ–∫–∞–ª—å–Ω—ñ `operationId`).

OpenWebUI –ø—ñ–¥—Ç—Ä–∏–º—É—î –¥–≤–∞ —Ä–µ–∂–∏–º–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤:

* **User Tool Server** ‚Äî –±—Ä–∞—É–∑–µ—Ä –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ OpenAPI-—Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞–ø—Ä—è–º—É. –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–∏—Ö –∞–¥—Ä–µ—Å (`http://localhost:8000/openapi.json`).
* **Global Tool Server** ‚Äî –∑–∞–ø–∏—Ç–∏ –π–¥—É—Ç—å —ñ–∑ –±–µ–∫–µ–Ω–¥–∞ OpenWebUI. –ö–æ—Ä–∏—Å–Ω–æ, —è–∫—â–æ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–æ—Å—Ç—É–ø–Ω–∏–π —ñ–∑ –º–µ—Ä–µ–∂—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤, –∞–ª–µ –Ω–µ –∑ —Ä–æ–±–æ—á–æ—ó —Å—Ç–∞–Ω—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.

–Ø–∫—â–æ –æ–±–∏—Ä–∞—î—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ñ –∞–¥—Ä–µ—Å–∏ (`localhost`), –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –±—Ä–∞—É–∑–µ—Ä –º–∞—î –¥–æ—Å—Ç—É–ø –¥–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–æ–≥–æ –ø–æ—Ä—Ç—É, –∞–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ User Tool Server. –î–ª—è –≤—ñ–¥–¥–∞–ª–µ–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ –Ω–∞ –æ–∫—Ä–µ–º–∏—Ö —Ö–æ—Å—Ç–∞—Ö –∑–∞–∑–≤–∏—á–∞–π –ø—ñ–¥—Ö–æ–¥–∏—Ç—å Global Tool Server.

–ù–∏–∂—á–µ –Ω–∞–≤–µ–¥–µ–Ω–æ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ OpenAPI-–æ–ø–∏—Å—É, —è–∫–∏–π –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —è–∫ —à–∞–±–ª–æ–Ω –¥–ª—è –≤–ª–∞—Å–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤:

```json
{
  "openapi": "3.0.0",
  "info": {
    "title": "–ü—Ä–∏–∫–ª–∞–¥ API",
    "version": "1.0.0"
  },
  "paths": {
    "/items": {
      "get": {
        "summary": "–û—Ç—Ä–∏–º–∞—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏",
        "responses": {
          "200": {
            "description": "–£—Å–ø—ñ—Ö",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
```

–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –≤–ª–∞—Å–Ω–∏–π JSON —ñ–∑ –ø–æ–¥—ñ–±–Ω–æ—é —Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é —Ç–∞ –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ OpenWebUI –æ—Ç—Ä–∏–º—É—î —Ñ–∞–π–ª –±–µ–∑ –ø–æ–º–∏–ª–æ–∫ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—ñ–¥–∫—Ä–∏–≤—à–∏ URL —É –±—Ä–∞—É–∑–µ—Ä—ñ –∞–±–æ —á–µ—Ä–µ–∑ `curl`).

> ‚ÑπÔ∏è –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–æ—è—Å–Ω–µ–Ω–Ω—è —â–æ–¥–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Ö OpenAPI-—Å–µ—Ä–≤–µ—Ä—ñ–≤ —ñ –≤–∏–º–æ–≥ –¥–æ —Ñ–∞–π–ª—ñ–≤ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –¥–∏–≤—ñ—Ç—å—Å—è —É [FAQ OpenWebUI](https://docs.openwebui.com/openapi-servers/faq/), [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –∑ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó](https://docs.openwebui.com/openapi-servers/open-webui/) —Ç–∞ –¥–æ–≤—ñ–¥–Ω–∏–∫–∞—Ö —ñ–∑ —Ä–æ–∑—Ä–æ–±–∫–∏ OpenAPI/–ø–ª–∞–≥—ñ–Ω—ñ–≤ ([Dify Blog](https://dify.ai/blog/chatgpt-plugin), [OpenAPI Specification 3.1](https://swagger.io/specification/)).

### –û—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—è –æ–ø–∏—Å—ñ–≤ OpenAPI

OpenWebUI –≥–Ω—É—á–∫–æ —Å—Ç–∞–≤–∏—Ç—å—Å—è –¥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ OpenAPI-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó, —Ç–æ–º—É –≤–∏ –º–æ–∂–µ—Ç–µ –æ–±—Ä–∞—Ç–∏ –Ω–∞–π–∑—Ä—É—á–Ω—ñ—à–∏–π —Å–ø–æ—Å—ñ–± –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó —Ñ–∞–π–ª—ñ–≤:

* **–û–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä ‚Äì –±–∞–≥–∞—Ç–æ —Ñ—É–Ω–∫—Ü—ñ–π.** –Ø–∫—â–æ —Å–µ—Ä–≤—ñ—Å –Ω–∞–¥–∞—î –¥–µ–∫—ñ–ª—å–∫–∞ —Ç—ñ—Å–Ω–æ –ø–æ–≤‚Äô—è–∑–∞–Ω–∏—Ö –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –Ω–∞—à –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä Proxmox —ñ–∑
  –∫–µ—Ä—É–≤–∞–Ω–Ω—è–º LXC, SSH-—É—Ç–∏–ª—ñ—Ç–∞–º–∏ —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—î—é BlissOS), —ó—Ö –º–æ–∂–Ω–∞ –æ–ø–∏—Å–∞—Ç–∏ –≤ –æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—ñ `openapi.json`. –¶–µ —Å–ø—Ä–æ—â—É—î —ñ–º–ø–æ—Ä—Ç –≤
  OpenWebUI ‚Äî –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–æ–¥–∞—Ç–∏ –æ–¥–∏–Ω URL.
* **–û–∫—Ä–µ–º—ñ —Å–µ—Ä–≤–µ—Ä–∏ ‚Äì —á–∏—Å—Ç–æ—Ç–∞ —ñ –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å.** –î–ª—è –≤—ñ–¥–æ–∫—Ä–µ–º–ª–µ–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤ –∑—Ä—É—á–Ω—ñ—à–µ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ –æ–ø–∏—Å–∏. –ú–∏ —Å–∞–º–µ —Ç–∞–∫ —ñ
  —Ä–æ–±–∏–º–æ –¥–ª—è BlissOS: –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤–∏–Ω–µ—Å–µ–Ω—ñ –≤ `openapi_bliss.json`, —è–∫–∏–π –ø—ñ–¥–∫–ª—é—á–∞—î—Ç—å—Å—è –æ–∫—Ä–µ–º–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º. –Ø–∫—â–æ –≤–∏
  –¥–æ–¥–∞—î—Ç–µ –≤–ª–∞—Å–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–µ—Ä—É–≤–∞–Ω–Ω—è —ñ–Ω—à–æ—é —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ—é), —Å—Ç–≤–æ—Ä—ñ—Ç—å –¥–ª—è –Ω–∏—Ö –æ–∫—Ä–µ–º–∏–π —Ñ–∞–π–ª —ñ –æ–∫—Ä–µ–º–∏–π –ø–æ—Ä—Ç/—Å–µ—Ä–≤–µ—Ä.

–û–±–∏–¥–≤–∞ –ø—ñ–¥—Ö–æ–¥–∏ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è OpenWebUI. –û–±–∏—Ä–∞–π—Ç–µ —Ç–æ–π, —â–æ —Å–ø—Ä–æ—â—É—î –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–∞ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –≤–∞—à–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤. –ó–∞ –ø–æ—Ç—Ä–µ–±–∏ –º–æ–∂–Ω–∞
–ø–æ—î–¥–Ω–∞—Ç–∏ —ó—Ö: –ø–æ–≤‚Äô—è–∑–∞–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –∑–∞–ª–∏—à–∏—Ç–∏ –≤ –∑–∞–≥–∞–ª—å–Ω–æ–º—É `openapi.json`, –∞ –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ –º–æ–¥—É–ª—ñ ‚Äî —É –≤–ª–∞—Å–Ω–∏—Ö —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—è—Ö.

## –í–∏–∫–ª–∏–∫ API

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –±—É–¥—å‚Äë—è–∫–∏–π HTTP‚Äë–∫–ª—ñ—î–Ω—Ç (curl, Postman, Python `requests`) –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–æ–º:

* **–°–ø–∏—Å–æ–∫ –≤—É–∑–ª—ñ–≤**

  ```sh
  curl http://localhost:8000/nodes
  ```

* **–°–ø–∏—Å–æ–∫ LXC –Ω–∞ –≤—É–∑–ª—ñ**

  ```sh
  curl http://localhost:8000/lxc/pve
  ```

* **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è LXC**

  ```sh
  curl -X POST http://localhost:8000/lxc \
    -H "Content-Type: application/json" \
    -d '{
          "node": "pve",          
          "vmid": 105,
          "ostemplate": "local:vztmpl/debian-12-standard.tar.zst",
          "cores": 2,
          "memory": 2048,
          "hostname": "test-lxc",
          "net0": "name=eth0,bridge=vmbr0,ip=192.168.1.105/24,gw=192.168.1.1",
          "password": "password",
          "features": {"nesting": 1, "keyctl": 1}
      }'
  ```

### BlissOS 16.9.7 —á–µ—Ä–µ–∑ ADB

–î–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è BlissOS (Android x86) –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –≤–∏–∫–æ–Ω—É—î –∫–æ–º–∞–Ω–¥–∏ `adb`. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ TCP-–ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —á–µ—Ä–µ–∑ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:

```env
# host:port TCP-–ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ BlissOS (–∑–Ω–∞—á–µ–Ω–Ω—è –º–æ–∂–Ω–∞ –æ–¥—Ä–∞–∑—É –¥–æ–¥–∞—Ç–∏ –≤ .env)
BLISS_ADB_ADDRESS=192.168.1.218:5555
# –∞–±–æ –æ–∫—Ä–µ–º–æ
BLISS_ADB_HOST=192.168.1.218
BLISS_ADB_PORT=5555

# –î–ª—è USB-–ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ –º–æ–∂–Ω–∞ –∑–∞–¥–∞—Ç–∏ —Å–µ—Ä—ñ–π–Ω–∏–∫ –Ω–∞–ø—Ä—è–º—É
BLISS_ADB_SERIAL=RQCT30W45KM

# (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ) –≤–ª–∞—Å–Ω–∏–π —à–ª—è—Ö –¥–æ OpenAPI –∞–±–æ –¥–≤—ñ–π–∫–∏ adb
# BLISS_OPENAPI_PATH=/app/openapi_bliss.json
ADB_BINARY=/usr/bin/adb  # adb –≤–∂–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –≤ –æ–±—Ä–∞–∑—ñ, –∑–º—ñ–Ω—é–π—Ç–µ –ª–∏—à–µ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏
```

API-–µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏:

* **–ü–µ—Ä–µ–ª—ñ–∫ –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤** ‚Äì `GET /bliss/adb/devices`
* **–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ BlissOS** ‚Äì `POST /bliss/adb/connect {"host": "192.168.1.218", "port": 5555}`
* **–í–∏–∫–æ–Ω–∞–Ω–Ω—è shell-–∫–æ–º–∞–Ω–¥** ‚Äì

  ```json
  POST /bliss/adb/shell
  {
    "cmd": "input keyevent 26"
  }
  ```

  –î–ª—è –∫—ñ–ª—å–∫–æ—Ö –∫–æ–º–∞–Ω–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –º–∞—Å–∏–≤ `"commands": ["wm size", "wm density"]`. –ü–∞—Ä–∞–º–µ—Ç—Ä `"use_su": true` –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ `su -c`.

* **–ë—É–¥—å-—è–∫—ñ —ñ–Ω—à—ñ adb-–æ–ø–µ—Ä–∞—Ü—ñ—ó** ‚Äì `POST /bliss/adb/command {"args": ["install", "/tmp/app.apk"]}` –∞–±–æ

  ```json
  POST /bliss/adb/command
  {
    "command": "shell am start -a android.intent.action.VIEW -d https://example.com"
  }
  ```

* **–†–æ–∑'—î–¥–Ω–∞–Ω–Ω—è** ‚Äì `POST /bliss/adb/disconnect {"all": true}` –∞–±–æ –∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—é –∞–¥—Ä–µ—Å–æ—é.

> –§–∞–π–ª [`openapi_bliss.json`](openapi_bliss.json) –º—ñ—Å—Ç–∏—Ç—å –æ–∫—Ä–µ–º—É OpenAPI-—Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—é –ª–∏—à–µ –¥–ª—è BlissOS/ADB.
> –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Ö–æ–ø–ª—é—î —ó—ó –∑ `/app/openapi_bliss.json` (—Ñ–∞–π–ª —É–∂–µ –º–æ–Ω—Ç—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `docker-compose.yml`),
> –∞–ª–µ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∫–∞–∑–∞—Ç–∏ —ñ–Ω—à–∏–π —à–ª—è—Ö —É –∑–º—ñ–Ω–Ω—ñ–π `BLISS_OPENAPI_PATH`. –ï–Ω–¥–ø–æ—ñ–Ω—Ç `GET /openapi_bliss.json` –¥–æ–∑–≤–æ–ª–∏—Ç—å –¥–æ–¥–∞—Ç–∏ BlissOS —è–∫
> –æ–∫—Ä–µ–º–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –≤ OpenWebUI –∞–±–æ —ñ–Ω—à–æ–º—É –∫–ª—ñ—î–Ω—Ç—ñ. –û—Å–Ω–æ–≤–Ω–∏–π [`openapi.json`](openapi.json) —Ç–∞–∫–æ–∂ –º—ñ—Å—Ç–∏—Ç—å —Ü—ñ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏, —Ç–æ–∂ —ó—Ö
> –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ñ –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–æ—ó —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞–Ω –º–æ–∂–Ω–∞ —á–µ—Ä–µ–∑ `GET /openapi_bliss/status`.

#### –Ø–∫ —Å—Ñ–æ—Ä–º—É–ª—é–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç –¥–æ –õ–õ–ú –¥–ª—è –¥—ñ—ó –≤ BlissOS

–©–æ–± –∞–≥–µ–Ω—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑—Ä–æ–∑—É–º—ñ–≤ –∑–∞–≤–¥–∞–Ω–Ω—è, –æ–ø–∏—à–∏:

1. **–Ø–∫—É –¥—ñ—é —Ç—Ä–µ–±–∞ –≤–∏–∫–æ–Ω–∞—Ç–∏.** –ù–∞–ø—Ä–∏–∫–ª–∞–¥, ¬´–≤—ñ–¥–∫—Ä–∏–π –ø–∞–Ω–µ–ª—å —à–≤–∏–¥–∫–∏—Ö –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å¬ª –∞–±–æ ¬´–∑–∞–ø—É—Å—Ç–∏ –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ Firefox¬ª.
2. **–î–µ —ó—ó –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏.** –ó–∞–∑–Ω–∞—á –ø–æ—Ç–æ—á–Ω–∏–π –µ–∫—Ä–∞–Ω, –ø–æ—Ç—Ä—ñ–±–Ω–µ –º–µ–Ω—é –∞–±–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ –¥–ª—è —Ç–∞–ø—É/—Å–≤–∞–π–ø—É.
3. **–©–æ –≤–≤–∞–∂–∞—Ç–∏ —É—Å–ø—ñ—Ö–æ–º.** –ü–æ—è—Å–Ω–∏, —è–∫–∏–π —Å—Ç–∞–Ω —Ç—Ä–µ–±–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—ñ—Å–ª—è –¥—ñ—ó (–ø–æ—è–≤–∞ –≤—ñ–∫–Ω–∞, –≤–≤—ñ–º–∫–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–º–∏–∫–∞—á —Ç–æ—â–æ).

–ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø–∏—Ç—ñ–≤:

- ¬´–ü—ñ–¥'—î–¥–Ω–∞–π—Å—è –¥–æ BlissOS —á–µ—Ä–µ–∑ ADB, –≤—ñ–¥–∫—Ä–∏–π –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Wi-Fi —Ç–∞ –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Å—è, —â–æ –ø–µ—Ä–µ–º–∏–∫–∞—á —É–≤—ñ–º–∫–Ω–µ–Ω–æ.¬ª
- ¬´–ó—Ä–æ–±–∏ —Ç–∞–ø –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö 960x540, —â–æ–± –ø—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –¥—ñ–∞–ª–æ–≥, —ñ –ø–æ–≤—ñ–¥–æ–º, —á–∏ –∑'—è–≤–∏–ª–æ—Å—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —É—Å–ø—ñ—à–Ω–µ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.¬ª
- ¬´–í–∏–∫–æ–Ω–∞–π `adb shell am start -n org.mozilla.firefox/.App`, –∑–∞—á–µ–∫–∞–π –¥–æ–∫–∏ –≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è –±—Ä–∞—É–∑–µ—Ä —ñ –Ω–∞–¥—ñ—à–ª–∏ —Å–∫—Ä—ñ–Ω—à–æ—Ç –≥–æ–ª–æ–≤–Ω–æ–≥–æ –µ–∫—Ä–∞–Ω–∞.¬ª

–ú–æ–∂–Ω–∞ —Ñ–æ—Ä–º—É–ª—é–≤–∞—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è –∑–≤–∏—á–∞–π–Ω–æ—é –º–æ–≤–æ—é, –∞–ª–µ –¥–æ–¥–∞–≤–∞–π –∫–æ–Ω–∫—Ä–µ—Ç–∏–∫—É (ADB-–∫–æ–º–∞–Ω–¥–∏, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏, –æ—á—ñ–∫—É–≤–∞–Ω—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏), —è–∫—â–æ —Ü–µ –≤–∞–∂–ª–∏–≤–æ –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç—ñ.

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

–õ–æ–∫–∞–ª—å–Ω–∞ LLM, —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∞ —á–µ—Ä–µ–∑ Ollama, –º–æ–∂–µ —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è –∑ FastAPI‚Äë–∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–æ–º —ñ –≤—ñ–¥–¥–∞–≤–∞—Ç–∏ –∑–∞–≤–¥–∞–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä) —É –≤–∏–≥–ª—è–¥—ñ JSON. –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä –≤–∏–∫–æ–Ω—É—î –≤–∏–∫–ª–∏–∫–∏ –¥–æ Proxmox API –∑ –¥–æ–ø–æ–º–æ–≥–æ—é `proxmoxer` –π –ø–æ–≤–µ—Ä—Ç–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É –∑—Ä—É—á–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ. –¢–∞–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–æ–∑–≤–æ–ª—è—î –≤—ñ–¥–æ–∫—Ä–µ–º–∏—Ç–∏ LLM –≤—ñ–¥ –ø—Ä—è–º–æ–≥–æ root‚Äë–¥–æ—Å—Ç—É–ø—É –Ω–∞ —Ö–æ—Å—Ç—ñ, —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è, —ñ –ª–µ–≥–∫–æ —Ä–æ–∑—à–∏—Ä—é–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å.

## LLM –∞–≥–µ–Ω—Ç

–£ –∫–∞—Ç–∞–ª–æ–∑—ñ [`controller/agent_profile`](controller/agent_profile) –∑—ñ–±—Ä–∞–Ω—ñ –≥–æ—Ç–æ–≤—ñ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∏ –¥–ª—è –∑–∞–ø—É—Å–∫—É –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–≥–æ –∞–≥–µ–Ω—Ç–∞:

- `system_prompt.md` ‚Äî –±–∞–∑–æ–≤–∞ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –º–æ–¥–µ–ª—ñ –∑ –æ–ø–∏—Å–æ–º –º—ñ—Å—ñ—ó, –ø—Ä–∞–≤–∏–ª –∞–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—ñ —Ç–∞ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤.
- `action_recipes.md` ‚Äî —Å—Ç–∏—Å–ª–∏–π –¥–æ–≤—ñ–¥–Ω–∏–∫ —ñ–∑ –ø—Ä–∏–∫–ª–∞–¥–∞–º–∏ –∑–∞–ø–∏—Ç—ñ–≤ –¥–æ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞.
- Python‚Äë–º–æ–¥—É–ª—å `agent_profile` –µ–∫—Å–ø–æ–Ω—É—î –º–µ—Ç–∞–¥–∞–Ω—ñ —á–µ—Ä–µ–∑ –µ–Ω–¥–ø–æ—ñ–Ω—Ç `GET /agent/profile` (JSON –º—ñ—Å—Ç–∏—Ç—å –ø—Ä–æ–º–ø—Ç, –¥–æ–≤—ñ–¥–Ω–∏–∫ —Ç–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏).

### –Ø–∫ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏ –≤ OpenWebUI

1. –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å—Ç–µ–∫ `docker-compose up -d`.
2. –£ OpenWebUI –≤—ñ–¥–∫—Ä–∏–π—Ç–µ **Tools ‚Üí API Specifications** —Ç–∞ –¥–æ–¥–∞–π—Ç–µ –∞–¥—Ä–µ—Å—É `http://proxmox-controller:8000/openapi.json`.
3. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π **Persona** —ñ –≤—Å—Ç–∞–≤—Ç–µ —Ç–µ–∫—Å—Ç —ñ–∑ `controller/agent_profile/system_prompt.md` —É –ø–æ–ª–µ *System Prompt*.
4. –ó–∞ –±–∞–∂–∞–Ω–Ω—è–º –¥–æ–¥–∞–π—Ç–µ `controller/agent_profile/action_recipes.md` —è–∫ *Knowledge* –∞–±–æ –≤–±—É–¥—É–π—Ç–µ —É prompt.
5. –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –º–æ–¥–µ–ª—å —Ä–æ–∑—É–º—ñ—Ç–∏–º–µ, —â–æ –º–∞—î –ø–æ–≤–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞ —ñ –º–æ–∂–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∑–∞–¥–∞—á—ñ –∞–≤—Ç–æ–Ω–æ–º–Ω–æ. –î–æ–¥–∞—Ç–∫–æ–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –º–æ–∂–Ω–∞ —Ç–∞–∫–æ–∂ –æ—Ç—Ä–∏–º–∞—Ç–∏ —á–µ—Ä–µ–∑ `GET http://proxmox-controller:8000/agent/profile`.

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ —ñ–Ω—à–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö

–ï–Ω–¥–ø–æ—ñ–Ω—Ç `/agent/profile` –ø–æ–≤–µ—Ä—Ç–∞—î –≤—Å—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ —Ç–µ–∫—Å—Ç–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏, —Ç–æ–∂ –π–æ–≥–æ –º–æ–∂–Ω–∞ –ø—ñ–¥–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –≤ –±—É–¥—å-—è–∫–∏–π orchestration-–ø–∞–π–ø–ª–∞–π–Ω (OpenAI Assistants, Ollama API, LangChain —Ç–æ—â–æ) —ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ñ–æ—Ä–º—É–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –∞–≥–µ–Ω—Ç–∞.

## Dependency management

Python dependencies for the controller reside in `controller/requirements.txt` and use compatible release specifiers (e.g., `fastapi~=0.111`). After modifying versions, reinstall the environment:

```bash
pip install -r controller/requirements.txt
```

To generate a fully pinned lock file with all transitive dependencies, use `pip-tools`:

```bash
pip install pip-tools
pip-compile controller/requirements.txt --output-file controller/requirements.lock
```
